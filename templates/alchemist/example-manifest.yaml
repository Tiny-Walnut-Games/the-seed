# Alchemist Faculty Experiment Manifest - Example
# Generated by: Alchemist Faculty v0.1.0
# Creation Date: 2025-09-06T02:55:00Z
# Schema Version: 0.1.0

metadata:
  name: "Combat System Narrative Integration Experiment"
  description: "Testing integration of XP gain with narrative progression beats"
  version: "1.0.0"
  author: "Alchemist Faculty"
  created: "2025-09-06T02:55:00Z"
  tags: ["alchemist", "gu-pot", "narrative", "combat", "integration"]
  experiment_id: "a1b2c3d4-e5f6-7890-abcd-ef1234567890"
  source_issue: "https://github.com/jmeyer1980/TWG-TLDA/issues/123"

# Origin binding to Gu Pot narrative source
origin:
  type: "gu_pot"
  issue_number: 123
  issue_url: "https://github.com/jmeyer1980/TWG-TLDA/issues/123"
  stage_at_evaluation: "distilled"
  logline_hash: "sha256:4a5b6c7d8e9f0123456789abcdef0123456789abcdef0123456789abcdef0123"
  tension_hash: "sha256:9f8e7d6c5b4a3210fedcba9876543210fedcba9876543210fedcba9876543210"
  irreversible_shift_declared: true
  extracted_on: "2025-09-06T02:55:00Z"
  alchemist_version: "0.1.0"

# Experimental context and execution parameters
experimental_context:
  experiment_id: "a1b2c3d4-e5f6-7890-abcd-ef1234567890"
  manifest_version: "0.1.0"
  baseline_metrics:
    - "player_engagement_time_combat"
    - "story_completion_rate"
    - "tutorial_skip_rate"
    - "narrative_combat_correlation"
  hypothesis: "Implementation of 'Integrate XP gain with narrative beats - combat outcomes affect story branches' will improve measured outcomes"
  expected_outcomes:
    - "Increased player engagement in combat (+15%)"
    - "Higher story completion rates"
    - "Reduced tutorial skip rates"
    - "Stronger correlation between combat participation and narrative progression"
  
  seed_configuration:
    global_seed: 5166
    corpus_seed: 5289
    processing_seed: 5622
  
  reproducibility_requirements:
    deterministic_execution: true
    environment_isolation: true
    version_pinning: true

# Validation criteria for promotion decisions
validation_criteria:
  min_confidence_threshold: 0.7
  min_baseline_improvement: 0.10  # 10% minimum improvement
  max_error_rate: 0.05  # 5% maximum error rate
  required_statistical_significance: 0.05  # p < 0.05
  
  promotion_gates:
    - "deterministic_reproducibility"
    - "baseline_comparison"
    - "confidence_scoring"
    - "artifact_completeness"
  
  success_criteria:
    min_processed_samples: 1000
    min_test_coverage: 0.90
    max_variance_coefficient: 0.15

# Execution configuration
execution_config:
  mode: "adaptive"
  batch_size: 50
  max_workers: 4
  timeout_seconds: 1800  # 30 minutes
  
  retry_policy:
    max_retries: 3
    backoff_multiplier: 2.0
    retry_on_timeout: true
  
  resource_limits:
    max_memory_mb: 2048
    max_cpu_cores: 8
    max_duration_minutes: 120
  
  checkpointing:
    enabled: true
    interval: 100
    resume_on_failure: true

# Data corpus and input configuration
corpus:
  type: "synthetic"
  source: "data/combat_narrative_corpus.json"
  size: 1000
  shuffle: true
  seed: 5289
  
  test_scenarios:
    - "tutorial_combat_sequence"
    - "mid_game_narrative_battle"
    - "boss_fight_story_integration"
    - "side_quest_combat_resolution"
  
  control_group:
    enabled: true
    size: 500
    baseline_behavior: "current_system"

# Metrics collection configuration
metrics:
  behavioral_metrics:
    - "engagement_time_seconds"
    - "completion_rate_percentage"
    - "skip_rate_percentage"
    - "narrative_correlation_score"
  
  performance_metrics:
    - "frame_rate_fps"
    - "memory_usage_mb"
    - "load_time_ms"
    - "crash_rate_percentage"
  
  time_series:
    enabled: true
    granularity: "minute"
    retention_days: 30
  
  baselines:
    - name: "pre_integration"
      config: { narrative_integration: false }
    - name: "partial_integration"
      config: { narrative_integration: true, xp_multiplier: 1.0 }

# Integration with TWG-TLDA ecosystem
integration:
  chronicle_integration:
    enabled: true
    auto_generate_tldl: true
    preserve_experiment_context: true
    tldl_title: "Alchemist Experiment - Combat Narrative Integration"
  
  pet_events:
    enabled: true
    track_milestones: true
    evolution_triggers:
      - "experiment_success"
      - "baseline_improvement"
      - "serum_promotion"
  
  github_integration:
    enabled: true
    auto_update_issue: true
    apply_labels: true
    evidence_comment: true
    labels_to_apply:
      - "alchemist:processing"
      - "experiment:active"
  
  telemetry:
    enabled: true
    track_developer_state: false
    include_system_metrics: true
    privacy_mode: "anonymous"

# Output and reporting configuration
output:
  base_path: "gu_pot/issue-123"
  formats: ["json", "yaml", "csv"]
  
  reports:
    - type: "summary"
      template: "alchemist_summary.md"
      include_charts: true
    - type: "validation_report"
      template: "validation_details.md"
      include_raw_data: true
    - type: "promotion_recommendation"
      template: "promotion_decision.md"
      include_confidence_breakdown: true
  
  artifacts:
    save_raw_results: true
    save_processed_metrics: true
    save_intervention_logs: true
    save_reproduction_data: true
    
  directory_structure:
    runs: "runs/"
    claims: "claims/"
    reports: "report/"
    baselines: "baselines/"

# Quality assurance and validation
validation:
  pre_checks:
    - "corpus_accessibility"
    - "baseline_metrics_available"
    - "resource_availability"
    - "dependency_validation"
  
  post_checks:
    - "results_completeness"
    - "metrics_sanity_check"
    - "baseline_comparison"
    - "artifact_integrity"
  
  schema_validation:
    enabled: true
    schema_path: "schemas/alchemist/claim-origin-extension.json"
    strict_mode: true

# Experiment-specific parameters
experiment_parameters:
  narrative_integration_level: 0.8
  xp_multiplier_range: [1.0, 2.5]
  story_branch_weight: 0.6
  combat_influence_threshold: 0.5
  
  test_variations:
    - name: "light_integration"
      parameters: { integration_level: 0.4, xp_multiplier: 1.2 }
    - name: "moderate_integration"
      parameters: { integration_level: 0.6, xp_multiplier: 1.5 }
    - name: "heavy_integration"
      parameters: { integration_level: 0.8, xp_multiplier: 2.0 }

# Environment and dependencies
environment:
  unity_version: "6000.2.0f1"
  platform: "Unity Editor"
  required_packages:
    - "com.unity.analytics"
    - "com.unity.cinemachine"
    - "com.twg.tlda.core"
  
  hardware_requirements:
    min_ram_gb: 8
    min_cpu_cores: 4
    min_disk_space_gb: 5

---
# Example Usage:
# python scripts/alchemist-faculty/run_experiment.py --manifest gu_pot/issue-123/manifest_v1.yaml
# Unity Menu: Tools > Alchemist Faculty > Run Experiment